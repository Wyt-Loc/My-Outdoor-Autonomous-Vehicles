<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no"/>
    <style type="text/css">
        body, html, #allmap {
            width: 100%;
            height: 100%;
            overflow: hidden;
            margin: 0;
            font-family: "微软雅黑";
        }
    </style>
    <script src="//mapopen.bj.bcebos.com/github/BMapGLLib/TrackAnimation/src/TrackAnimation.min.js"></script>
    <script type="text/javascript"
            src="//api.map.baidu.com/api?type=webgl&v=1.0&ak=TOZWy7kcCTDeR3MmNyjtUpLliyPTjASy"></script>
    <title>视角动画</title>
</head>
<body>
<div id="allmap"></div>
</body>
</html>

<script type="text/javascript">
    // GL版命名空间为BMapGL
    // 按住鼠标右键，修改倾斜角和角度
	var bmap = new BMapGL.Map("allmap");    // 创建Map实例
	bmap.centerAndZoom(new BMapGL.Point(115.7212091103093, 37.521794885444), 17);  // 初始化地图,设置中心点坐标和地图级别
    bmap.enableScrollWheelZoom(true);     // 开启鼠标滚轮缩放
    var path =
[{lng: 115.72177587846001,lat: 37.52129713961896}
,{lng: 115.7232177070125,lat: 37.52064508609315}
,{lng: 115.72096619664681,lat: 37.52051252908417}
,{lng: 115.71806962387129,lat: 37.5209640209991}
,{lng: 115.71534342423968,lat: 37.5213801950053}
,{lng: 115.71527476277339,lat: 37.52138791861531}
,{lng: 115.71382430615742,lat: 37.52231280155977}
,{lng: 115.71386544430703,lat: 37.52431515242887}
,{lng: 115.71423020079006,lat: 37.527694728528594}
,{lng: 115.71424089592288,lat: 37.52773047079403}
,{lng: 115.71648842235619,lat: 37.52762447095295}
,{lng: 115.71882789995846,lat: 37.52727028277458}
,{lng: 115.72091388728359,lat: 37.52696858203066}
,{lng: 115.72280210948131,lat: 37.52668957240316}
,{lng: 115.72285358264261,lat: 37.52668481781247}
,{lng: 115.72454592257708,lat: 37.52616337289306}
,{lng: 115.72423500764575,lat: 37.52441915636352}
,{lng: 115.72317414209684,lat: 37.52104234298945}
,{lng: 115.72315249277231,lat: 37.52104711366805}
,{lng: 115.72304267773698,lat: 37.52100975268868}
,{lng: 115.72305719156546,lat: 37.52101336730228}
,{lng: 115.7230008420863,lat: 37.521049753124345}
,{lng: 115.7215935267089,lat: 37.521333831891475}
]
;

    var point = [];
    for (var i = 0; i < path.length; i++) {
        point.push(new BMapGL.Point(path[i].lng+0.0002, path[i].lat+0.0001));
    }
    var pl = new BMapGL.Polyline(point);
    setTimeout('start()', 3000);
    function start () {
        trackAni = new BMapGLLib.TrackAnimation(bmap, pl, {
            overallView: true,
            tilt: 30,
            duration: 5000,
            delay: 100
        });
        trackAni.start();
    }





</script>