<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no"/>
    <style type="text/css">
        body, html, #allmap {
            width: 100%;
            height: 100%;
            overflow: hidden;
            margin: 0;
        }
    </style>
    <script src="//mapopen.bj.bcebos.com/github/BMapGLLib/TrackAnimation/src/TrackAnimation.min.js"></script>
    <script type="text/javascript"
            src="//api.map.baidu.com/api?type=webgl&v=1.0&ak=TOZWy7kcCTDeR3MmNyjtUpLliyPTjASy"></script>
    <title>视角动画</title>
</head>
<body>
<div id="allmap"></div>
</body>
</html>

<script type="text/javascript">
    // GL版命名空间为BMapGL
    // 按住鼠标右键，修改倾斜角和角度
	var bmap = new BMapGL.Map("allmap");    // 创建Map实例
	bmap.centerAndZoom(new BMapGL.Point(115.7212091103093, 37.521794885444), 17);  // 初始化地图,设置中心点坐标和地图级别
    bmap.enableScrollWheelZoom(true);     // 开启鼠标滚轮缩放

    var path =
[{lng: 115.72203238611,lat: 37.52129713961896}
,{lng: 115.7217608571,lat: 37.52064508609315}
,{lng: 115.72148091111,lat: 37.52051252908417}
,{lng: 115.71824991939,lat: 37.5209640209991}
,{lng: 115.71405598668,lat: 37.5213801950053}
,{lng: 115.71432336319,lat: 37.52138791861531}
,{lng: 115.71421285152,lat: 37.52231280155977}
,{lng: 115.71423742253,lat: 37.52431515242887}
,{lng: 115.71438583386,lat: 37.527694728528594}
,{lng: 115.71467803568,lat: 37.52773047079403}
,{lng: 115.72522979569,lat: 37.52762447095295}
,{lng: 115.72382052706,lat: 37.52727028277458}
,{lng: 115.72313911189,lat: 37.52696858203066}
,{lng: 115.72297667911,lat: 37.52668957240316}
]
;

    var point = [];
    for (var i = 0; i < path.length; i++) {
        point.push(new BMapGL.Point(path[i].lng, path[i].lat));
    }
    var pl = new BMapGL.Polyline(point);
    setTimeout('start()', 3000);
    function start () {
        trackAni = new BMapGLLib.TrackAnimation(bmap, pl, {
            overallView: true,
            tilt: 30,
            duration: 5000,
            delay: 100
        });
        trackAni.start();
    }

</script>